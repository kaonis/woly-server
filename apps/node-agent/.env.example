# Server Configuration
PORT=8082
HOST=0.0.0.0
NODE_ENV=development

# Database
DB_PATH=./db/woly.db

# Network Discovery
SCAN_INTERVAL=300000      # 5 minutes in milliseconds
SCAN_DELAY=5000          # 5 seconds initial delay
PING_TIMEOUT=2000        # 2 seconds timeout
PING_CONCURRENCY=10      # Number of concurrent pings during network scan (default: 10)

# Caching
MAC_VENDOR_TTL=86400000           # 24 hours in milliseconds
MAC_VENDOR_RATE_LIMIT=1000        # 1 second between requests

# CORS
CORS_ORIGINS=http://localhost:19000,http://192.168.1.228:8082,http://10.0.2.2:8082

# Security
# NODE_API_KEY=your-secret-api-key-here    # Optional: Enable API authentication for /hosts/* endpoints

# Logging
LOG_LEVEL=debug

# Agent Mode Configuration (Phase 2)
NODE_MODE=standalone                      # 'standalone' or 'agent'
CNC_URL=ws://localhost:8080              # C&C backend WebSocket URL
NODE_ID=home-office-node                 # Unique node identifier
NODE_LOCATION=Home Office                # Human-readable location
NODE_AUTH_TOKEN=dev-token-home           # C&C authentication token
NODE_SESSION_TOKEN_URL=                  # Optional: endpoint to mint short-lived WS session tokens
NODE_SESSION_TOKEN_TIMEOUT_MS=5000       # Session token request timeout
NODE_SESSION_TOKEN_REFRESH_BUFFER_SECONDS=60  # Refresh before expiry
WS_ALLOW_QUERY_TOKEN_FALLBACK=true       # Set false to disable legacy ?token= fallback
TUNNEL_MODE=direct                       # 'direct' (default) or 'cloudflare'
CLOUDFLARE_TUNNEL_URL=                   # Required when TUNNEL_MODE=cloudflare (must be https://...)
CLOUDFLARE_TUNNEL_TOKEN=                 # Required when TUNNEL_MODE=cloudflare
NODE_PUBLIC_URL=                         # Optional override public URL for non-cloudflare tunnel setups
HEARTBEAT_INTERVAL=30000                 # 30 seconds
RECONNECT_INTERVAL=5000                  # 5 seconds
MAX_RECONNECT_ATTEMPTS=0                 # 0 = infinite retries

# Host event backpressure and data quality (Phase 5)
NODE_HOST_UPDATE_DEBOUNCE_MS=500         # Debounce window for host-updated events
NODE_MAX_BUFFERED_HOST_EVENTS=2000       # Max queued host events while disconnected
NODE_HOST_EVENT_FLUSH_BATCH_SIZE=100     # Batch size when flushing queued events
NODE_INITIAL_SYNC_CHUNK_SIZE=100         # Initial host sync chunk size on reconnect
NODE_HOST_STALE_AFTER_MS=900000          # Treat hosts with older lastSeen as stale (15 min)
